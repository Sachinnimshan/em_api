(this.webpackJsonpem_web=this.webpackJsonpem_web||[]).push([[0],{74:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(14),c=n.n(r),s=n(13),o=n(4),i=n(12),l=n(15),u=n.n(l),j=n(23),d="USER_SIGN_REQUEST",b="USER_SIGN_SUCCESS",m="USER_SIGN_FAIL",p="USER_SIGN_UP_REQUEST",O="USER_SIGN_UP_SUCCESS",h="USER_SIGN_UP_FAIL",x="USER_SIGN_OUT",f=n(28),v=n.n(f),g=n(1);var N=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userSign})).userInfo;return Object(g.jsxs)("div",{className:"container-fluid d-flex p-4 bg-light justify-content-between",children:[Object(g.jsx)("div",{children:"Navbar"}),Object(g.jsx)("div",{className:"d-flex gap-2",children:t?Object(g.jsx)("span",{onClick:function(){e(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:x});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:t.Firstname}):Object(g.jsxs)("div",{children:[Object(g.jsx)(s.b,{to:"/login",children:Object(g.jsx)("button",{type:"button",className:"btn btn-outline-primary mr-2",children:"Log In"})}),Object(g.jsx)(s.b,{to:"/register",children:Object(g.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:"Sign Up"})})]})})]})};var y=function(){return Object(g.jsx)("div",{})},S=n(19),C=(n(74),n(21)),I=n.n(C),w=n(22),_=n(80);var E=function(e){return Object(g.jsx)("div",{className:"loading-container",children:Object(g.jsx)(_.a,{animation:"border",variant:"primary"})})},U=n(81);var P=function(e){return Object(g.jsx)("div",{children:Object(g.jsx)(U.a,{variant:"danger",children:Object(g.jsx)(U.a.Heading,{children:e.children})})})};var F=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.userSign})),r=n.loading,c=n.success,o=n.errors,l=n.userInfo,p=Object(a.useState)(""),O=Object(S.a)(p,2),h=O[0],x=O[1],f=Object(a.useState)(""),N=Object(S.a)(f,2),y=N[0],C=N[1],_=function(){x(""),C("")};return Object(a.useEffect)((function(){l&&e.history.push("/")}),[e.history,"/",l]),Object(g.jsx)(I.a,{top:!0,children:Object(g.jsx)("div",{className:"container d-flex justify-content-center align-items-center mt-4",children:Object(g.jsxs)("div",{className:"card p-4 login-container",children:[Object(g.jsxs)("div",{className:"container d-flex h4 mb-2 login-title",children:[Object(g.jsx)(w.a,{}),Object(g.jsx)("span",{className:"ml-1",children:"SIGN IN"})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"container p-2",children:[r&&Object(g.jsx)(E,{}),o&&Object(g.jsx)(P,{children:o}),c&&Object(g.jsx)(U.a,{variant:"success",children:"Login Successful"})]}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(function(e,t){return function(){var n=Object(j.a)(u.a.mark((function n(a){var r,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:d,payload:{Email:e,Password:t}}),n.prev=1,n.next=4,v.a.post("/users/sign",{Email:e,Password:t});case 4:r=n.sent,c=r.data,a({type:b,payload:c}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),a({type:m,payload:n.t0.message});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(h,y)),_()},children:[Object(g.jsx)("div",{className:"mb-4",children:Object(g.jsx)("input",{type:"email",className:"form-control py-4",id:"exampleFormControlInput1",placeholder:"Your Email / Username",value:h,onChange:function(e){return x(e.target.value)}})}),Object(g.jsx)("div",{className:"mb-4",children:Object(g.jsx)("input",{type:"password",className:"form-control py-4",id:"exampleFormControlInput1",placeholder:"Your Password",value:y,onChange:function(e){return C(e.target.value)}})}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Log In"})}),Object(g.jsx)("div",{children:Object(g.jsx)(s.b,{to:"/register",children:"Dont' have an Account ?"})})]})]})]})})})},D=n(5),L=n(42),R=n.n(L);var k=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.userSignUp})),r=n.loading,c=n.success,o=n.errors,l=n.userInfo,d=Object(a.useState)({Firstname:"",Lastname:"",Email:"",Contact_Number:"",Password:"",ConfirmPassword:"",Profile:"",Country:"",User_ID:"",Status:""}),m=Object(S.a)(d,2),x=m[0],f=m[1];return Object(a.useEffect)((function(){l&&e.history.push("/")}),[e.history,"/",l]),Object(g.jsx)("div",{children:Object(g.jsx)(I.a,{top:!0,children:Object(g.jsx)("div",{className:"container d-flex justify-content-center align-items-center mt-4",children:Object(g.jsxs)("div",{className:"card p-4 register-container",children:[Object(g.jsxs)("div",{className:"container d-flex h4 mb-2 login-title",children:[Object(g.jsx)(w.a,{}),Object(g.jsx)("span",{className:"ml-1",children:"SIGN UP"})]}),Object(g.jsxs)("div",{className:"container p-2",children:[r&&Object(g.jsx)(E,{}),o&&Object(g.jsx)(P,{children:o}),c&&Object(g.jsx)(U.a,{variant:"success",children:"Your Account Created Successfully"})]}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault(),""===x.Firstname&&""===x.Lastname&&""===x.Email&&""===x.Contact_Number&&""===x.Password&&""===x.ConfirmPassword&&""===x.Profile&&""===x.Country&&""===x.User_ID&&""===x.Status&&alert("Fields Are Required"),x.Password!==x.ConfirmPassword?alert("Passwords Do Not Matched"):t((n=x,function(){var e=Object(j.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p,payload:n}),e.prev=1,e.next=4,v.a.post("/users/register",n);case 4:a=e.sent,r=a.data,t({type:O,payload:r}),t({type:b,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:h,payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())),f({Firstname:"",Lastname:"",Email:"",Contact_Number:"",Password:"",ConfirmPassword:"",Profile:"",Country:"",User_ID:"",Status:""})},children:[Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"First Name",value:x.Firstname,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{Firstname:e.target.value}))}})}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"Last Name",value:x.Lastname,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{Lastname:e.target.value}))}})}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"Email",value:x.Email,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{Email:e.target.value}))}})}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"Contact Number",value:x.Contact_Number,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{Contact_Number:e.target.value}))}})}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("input",{type:"password",className:"form-control",id:"exampleFormControlInput1",placeholder:"Password",value:x.Password,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{Password:e.target.value}))}})}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("input",{type:"password",className:"form-control",id:"exampleFormControlInput1",placeholder:"Confirm Password",value:x.ConfirmPassword,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{ConfirmPassword:e.target.value}))}})}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{for:"myfile",children:"Select a file:"}),Object(g.jsx)(R.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return f(Object(D.a)(Object(D.a)({},x),{},{Profile:t}))}})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{for:"exampleFormControlInput1",className:"form-label",children:"Select Your Country"}),Object(g.jsxs)("select",{className:"form-control",placeholder:"Select Your Country",value:x.Country,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{Country:e.target.value}))},children:[Object(g.jsx)("option",{children:"Sri Lanka"}),Object(g.jsx)("option",{children:"US"}),Object(g.jsx)("option",{children:"England"})]})]}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"User ID",value:x.User_ID,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{User_ID:e.target.value}))}})}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"Status",value:x.Status,onChange:function(e){return f(Object(D.a)(Object(D.a)({},x),{},{Status:e.target.value}))}})}),Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"})})]}),Object(g.jsx)("div",{children:Object(g.jsx)(s.b,{to:"/register",children:"Have an Account ?"})})]})]})})})})};var G=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(s.a,{children:[Object(g.jsx)(N,{}),Object(g.jsx)(o.a,{path:"/",component:y}),Object(g.jsx)(o.a,{path:"/login",component:F}),Object(g.jsx)(o.a,{path:"/register",component:k})]})})},A=n(17),T=n(43),Y=Object(A.b)({userSign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0};case b:return{loading:!1,success:!0,userInfo:t.payload};case m:return{loading:!1,errors:t.payload};case x:return{};default:return e}},userSignUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{loading:!0};case O:return{loading:!1,succes:!0,userInfo:t.payload};case h:return{loading:!1,errors:t.payload};default:return e}}}),J={userSign:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.c,M=Object(A.d)(Y,J,H(Object(A.a)(T.a)));n(77);c.a.render(Object(g.jsx)(i.a,{store:M,children:Object(g.jsx)(G,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.b82f3807.chunk.js.map